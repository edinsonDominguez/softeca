<!DOCTYPE html>
<html
	lang="es" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	>

		<!-- JOVENES POR FAVOR NO MUEVAN ESTA PAGINA YA LA TENGO BIEN HECHA NO SE PONGAN A MOVERLA .|. .|. -->

<h:head>
	<meta charset= "utf-8"/>
	<meta http-equiv = "X-UA-Compatible" content = "IE=edge"/>
	<title>Softeca</title>
	<link rel="stylesheet" type="text/css" href="../resources/css/estilos.css"/>
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
	<h:outputScript library="../resources/js/materialize.js" name="materilize.js"/>
</h:head> 


		<body class = "gray">


  <form>
	
		<div class="row valign-wrapper"  style="margin: 0">
		
		<div class="col s12 hide-on-med-only hide-on-large-only center-align" ><img  src="../resources/imagenes/logoSofteca1.ico" alt="" /></div>
		
		</div>
		
		<div class="row valign-wrapper"  style="margin: 0">
		
		<div class="col s4 hide-on-med-only hide-on-large-only right-align"><img src="../resources/imagenes/user1.ico" alt="" class="imgLogoUbicacion"/></div>
		<div class="col s8 hide-on-med-only hide-on-large-only"><h6>Bienvenido, #{tituloNombre}</h6></div>
		
		</div>
			
			
			
		<div class="row valign-wrapper" style="margin: 0">
		<div class="col m6 l7 hide-on-small-only" ><img  src="../resources/imagenes/logoSofteca1.ico" alt="" /></div>
			
		<div class="col m4 l4 hide-on-small-only"><h6>Bienvenido, #{tituloNombre}</h6></div>
			
		<div class="col m2 l1 hide-on-small-only"><img src="../resources/imagenes/user1.ico" alt="" class="imgLogoUbicacion"/></div> 
		</div>
		
	
	
		<ul id="dropdown1" class="dropdown-content" >
		  <li><a href="registroPrestamos.jsf" class="center-align">Registrar prestamo</a></li>
		  <li class="divider"></li>
		  <li><a href="devolverLibro.jsf" class="center-align">Devolver libro</a></li>
		  
		  
		</ul>
		
		<ul id="dropdown2" class="dropdown-content">
		  <li><a href="../pages/registrarLibro.jsf" class="center-align">Registrar Libro</a></li>
		  <li class="divider"></li>
		  <li><a href="../pages/editar_Eliminar.jsf" class="center-align">Consultar Libro</a></li>
		  
		  
		</ul>
		
		<ul id="dropdown3" class="dropdown-content">
		  <li><a href="../pages/registrarUsuario.jsf" class="center-align">Registrar Usuario</a></li>
		  <li class="divider"></li>
		  <li><a href="../pages/consultarUsuario.jsf" class="center-align">Consultar Usuario</a></li>
		  
		</ul>
		
		<ul id="dropdown4" class="dropdown-content">
		  <li><a href="../pages/reporteUsuario.jsf" class="center-align">Consultar los reportes de prestamos por usuario</a></li>
		  <li class="divider"></li>
		  <li><a href="../pages/reporteLibro.jsf" class="center-align">Consultar los reportes de prestamos por libro</a></li>
		  
		</ul>
		
		<ul id="dropdown5" class="dropdown-content" >
		  <li><a href="#!" class="center-align">Registrar prestamos</a></li>
		  <li class="divider"></li>
		  <li><a href="#!" class="center-align">Devolver libro</a></li>
		  
		  
		</ul>
		
		<ul id="dropdown6" class="dropdown-content">
		  <li><a href="#!" class="center-align">Registrar libro</a></li>
		  <li class="divider"></li>
		  <li><a href="#!" class="center-align">Consultar libro</a></li>
		  
		  
		</ul>
		
		<ul id="dropdown7" class="dropdown-content">
		  <li><a href="#!" class="center-align">Registrar</a></li>
		  <li class="divider"></li>
		  <li><a href="#!" class="center-align">Consultar</a></li>
		  
		  
		</ul>
		
		<ul id="dropdown8" class="dropdown-content">
		  <li><a href="../pages/reporteUsuario.jsf" class="center-align">Consultar los reportes de prestamos por usuario</a></li>
		  <li class="divider"></li>
		  <li><a href="../pages/reporteLibro.jsf" class="center-align">Consultar los reportes de prestamos por libro</a></li>
		  
		</ul>
		
		
		<div class="row">		
		<nav class="colorNavegador col s12 m12 l12">
		  <div class="nav-wrapper">
		  
		    <ul class="right hide-on-small-only">		      
		    	
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown1">Prestamos<i class="material-icons right">import_contacts</i></a></li>
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown2">Libros<i class="material-icons right">book</i></a></li>
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown3">usuarios<i class="material-icons right">account_box</i></a></li>
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown4">informes<i class="material-icons right">assignment</i></a></li>
		      <li><a href="../pages/login.jsf">salir</a><i class="material-icons right">close</i></li>
		    </ul>
		    
		    <ul class="right hide-on-med-only hide-on-large-only right-align">
		    
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown5"><i class="material-icons right">import_contacts</i></a></li>
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown6"><i class="material-icons right">book</i></a></li>
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown7"><i class="material-icons right">account_box</i></a></li>
		      <li><a class="dropdown-button" href="#!" data-activates="dropdown8"><i class="material-icons right">assignment</i></a></li>
		      <li><a href="sass.html"></a><i class="material-icons right">close</i></li>
		    	
		    
		    </ul>
		    
		  </div>
		</nav>
		</div>
	</form>










<!-- Lo mio -->
					
			<h:form class = "col s12">			
				<section>
	
					<div class = "container">	
						<div class = "row">
							<div class = "card-panel">			
						
								<div class = "row">
									<div class = "col s8 offset-s1">
										<h5>Consulta de libros.</h5>
									</div>
								</div>
	
								<div class="row">
				
									<div class = "input-field col s5 offset-s1">		
										<h:outputLabel value="buscador" for = "buscador" />
										<h:inputText value="#{librosBean.textoTraer}" id="buscador" class = "validate"/>
									</div>
				
									<div class = "col s3">
									 	<h:selectOneMenu value="#{librosBean.opcion}">
											<f:selectItem itemValue="nombre" itemLabel="Nombre .."/>
											<f:selectItem itemValue="icbn" itemLabel="ICBN .."/>
											<f:selectItem itemValue="autor" itemLabel="Autor .."/>
											<f:selectItem itemValue="categoria" itemLabel="Categoria .."/>	
										</h:selectOneMenu>  
									</div>
					
									<div class = "col s2">
										<h:commandButton action="#{librosBean.filtrarOpcion()}" value = "buscar libro" class = "waves-effect waves-light btn"/> 
									</div>
								</div>
						
							</div>
						</div>
					</div>
						
				</section>
			</h:form>



		<!-- LA SEGUNDA PARTE DE ESTA PAGINA QUE CONTIENE EL DATATABLE  -->



		<div class="row">
			
			<!-- ESTOS SON LOS RESULTADOS EN UN DATATABLE -->
			<h:form class = "col s10 offset-s1">

				<h:outputLabel
					value="Puedes ingresar en el buscador el nombre, ISBN, autor o categoria para que aparescan los resultados!! "
					rendered="#{librosBean.listaLibros.size() == 0}" />
				
				<h:dataTable value="#{librosBean.listaLibros}" var="datos"
					rendered = "#{librosBean.listaLibros.size() > 0}" class="striped centered">

						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Codigo."  />
							</f:facet>
							<h:outputLabel value="#{datos.codigo}" />
						</h:column>


						<h:column>
							<f:facet name="header" class = "colorCabecera">
								<h:outputLabel value="Titulo." />
							</f:facet>
							<h:inputText value="#{datos.titulo}" rendered="#{datos.editar}" />
							<h:outputLabel value="#{datos.titulo}"
								rendered="#{not datos.editar}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Autor." />
							</f:facet>
							<h:inputText value="#{datos.autor}" rendered="#{datos.editar}" />
							<h:outputLabel value="#{datos.autor}"
								rendered="#{not datos.editar}" />
						</h:column>


						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Editorial." />
							</f:facet>
							<h:inputText value="#{datos.editorial}"
								rendered="#{datos.editar}" />
							<h:outputLabel value="#{datos.editorial}"
								rendered="#{not datos.editar}" />
						</h:column>


						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Estanteria." />
							</f:facet>
							<h:inputText value="#{datos.estanteria}"
								rendered="#{datos.editar}" />
							<h:outputLabel value="#{datos.estanteria}"
								rendered="#{not datos.editar}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Ejemplares." />
							</f:facet>
							<h:inputText value="#{datos.ejemplar}" rendered="#{datos.editar}" />
							<h:outputLabel value="#{datos.ejemplar}"
								rendered="#{not datos.editar}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Categoria." />
							</f:facet>
							<h:inputText value="#{datos.categoria}"
								rendered="#{datos.editar}" />
							<h:outputLabel value="#{datos.categoria}"
								rendered="#{not datos.editar}" />
						</h:column>

						<h:column>
							<f:facet name="header">
								<h:outputLabel value="Opciones." />
							</f:facet>

							<h:commandLink action="#{librosBean.EditarLibro(datos)}"
								value="" rendered="#{not datos.editar}"
								 ><i class = "small material-icons">edit</i></h:commandLink>
							<h:commandLink action="#{librosBean.guardarCambios(datos)}"
								value="" rendered="#{datos.editar}"
								><i class = "small material-icons">save</i></h:commandLink>
							<br />
							<h:commandLink action="#{librosBean.eliminarLibro(datos)}"
								value=""><i class = "small material-icons">delete</i></h:commandLink>
							<br />


						</h:column>

				</h:dataTable>

			</h:form>	
						
					</div>


</body>
	<script type = "text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js" />
	<script src="../resources/js/materialize.min.js"></script>

		<script>
	
		  $(document).ready(function() {
			    $('select').material_select();
			  });
	
		 </script>
		
		
		
</html>